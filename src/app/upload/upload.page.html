<ion-header>
  <ion-toolbar>
    <ion-title>Upload Video</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-progress-bar id="progressBar" value="{{progress}}"></ion-progress-bar>
  <ion-input (change)="changeListener($event)" type="file"  id="uploadDesc" accept="video/*"></ion-input>
  <!-- <div id="uploadImage" (click)="selectVideo()"> -->
    <div id="uploadImage">
    <ion-icon name="cloud-upload" id="uploadIcon"></ion-icon>
    <p>Upload your video</p>
    <span>Tap here to select a video from your device to</span>
  </div>
  <div id="options" class="options">
    <ion-label id="label">Add to your feed: </ion-label>
    <ion-toggle id="toggle" (ionChange)="addPlaylist($event)" color="dark"></ion-toggle>
  </div>
  <ion-label id="scheduleText">Schedule Upload:</ion-label>
  <div id="schedule">
    <ion-item>
      <ion-label id="publishPrompt">MMMM DD h:mm</ion-label>
      <ion-datetime id="selectedMonthDay" displayFormat="MMMM DD" [(ngModel)]="todayDate" min="{{todayDate}}" placeholder="Select Date"></ion-datetime>
      <ion-datetime id="selectedTime" displayFormat="h:mm A" [(ngModel)]="Time" placeholder="Select Time"></ion-datetime>
    </ion-item>
  </div>
  <div id="options">
    <ion-label id="label">Music Genre: </ion-label>
    <ion-select id="Select" okText="Okay" cancelText="Dismiss">
      <ion-select-option value="HipHop">HipHop</ion-select-option>
      <ion-select-option value="House">House</ion-select-option>
      <ion-select-option value="Jazz">Jazz</ion-select-option>
      <ion-select-option value="Indie">Indie</ion-select-option>
      <ion-select-option value="Popp">Popp</ion-select-option>
      <ion-select-option value="Rock">Rock</ion-select-option>
    </ion-select>
  </div>

  <ion-input type="text"  id="uploadDescription"
    placeholder="Song Title"></ion-input>

  
  <div id="taggedUsers">
    <ion-chip>
      <ion-label>{{ Tags }}</ion-label>
    </ion-chip>
  </div>

  <ion-input type="text" id="uploadTag" (ionChange)="getUsers()" placeholder="Tag friends"></ion-input>
  <ion-item button  *ngFor='let item of ( search_request | async)' (click)="SetTag(item.id,item.first_name)">
    {{ item.first_name }}  {{ item.last_name }}
  </ion-item>

  
  <div id="uploadBtnDiv">

      <ion-item *ngFor="let img of videos_array; index as pos" text-wrap>
        <ion-label>
            Publish upload
        </ion-label>
        <ion-button slot="end" fill="clear" (click)="startUpload(img,pos)">
          <ion-icon slot="icon-only" name="cloud-upload"></ion-icon>
        </ion-button>
        <ion-button slot="end" fill="clear" (click)="deleteImage(img, pos)">
          <ion-icon slot="icon-only" name="trash"></ion-icon>
        </ion-button>
      </ion-item>
    <!-- <ion-button id="uploadBtn" (click)="upload()">Publish video</ion-button> -->
  </div>

  <div id="videoToUpload">

  </div>
  

</ion-content>
