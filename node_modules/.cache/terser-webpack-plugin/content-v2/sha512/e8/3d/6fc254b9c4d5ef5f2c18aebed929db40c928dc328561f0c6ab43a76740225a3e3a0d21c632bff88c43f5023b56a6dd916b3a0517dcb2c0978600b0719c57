{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{\"f+ep\":function(l,n,t){\"use strict\";t.r(n);var o=t(\"8Y7J\"),e=t(\"mrSG\"),u=t(\"EVdn\"),i=t(\"ZZ/e\"),s=t(\"p74H\"),r=t(\"8aff\");class a{constructor(l,n,t,o,e,u){this.toast=l,this.loadingController=n,this.statusBar=t,this.route=o,this.requests=e,this.storage=u,this.Bottom=!0,this.statusBar.overlaysWebView(!1),this.statusBar.backgroundColorByHexString(\"#ffffff\")}ngOnInit(){}ionViewDidEnter(){this.statusBar.overlaysWebView(!1),this.statusBar.backgroundColorByHexString(\"#ffffff\"),this.statusBar.styleDefault(),console.log(\"page has loaded\"),this.presentLoading(),this.storage.get(\"mail\").then(l=>{null==l?u(\".login\").show():this.route.navigate([\"/home/tabs/tab1\"])})}disableBottom(){this.Bottom=!1,console.log(\"bottom disabled\")}enableBottom(){this.Bottom=!0,console.log(\"bottom enabled\")}login(){const l=u(\"#emailInput\").val(),n=u(\"#passwordInput\").val();if(\"\"===l||\"\"===n)console.log(\"Error in loggin in\"),this.presentLoadingWithOptions(\"Please fill in all fields\");else{let t=\"https://uploaded.herokuapp.com/users/users\";this.presentLoading(),this.requests.Login(t,l,n).subscribe(n=>{console.log(n.data),\"Authentication test passed\"==n.data?(this.storage.set(\"mail\",l),this.storage.set(\"password\",l),this.storage.set(\"username\",n.username),this.storage.set(\"current_userID\",n.id),u(\".signInPrompt\").text(\"Login successful\"),u(\"#UploadedHeading\").text(JSON.stringify(l)),u(\"#UploadedHeading\").css(\"color\",\"#0d8479\"),u(\".signInPrompt\").css(\"color\",\"#0d8479\"),this.route.navigate([\"home/tabs/tab1\"])):(u(\".signInPrompt\").text(\"User not found\"),u(\"#UploadedHeading\").text(JSON.stringify(l)),u(\"#UploadedHeading\").css(\"color\",\"#f44336\"),u(\".signInPrompt\").css(\"color\",\"#f44336\"))})}}presentLoading(){return e.__awaiter(this,void 0,void 0,function*(){const l=yield this.loadingController.create({message:\"Please wait...\",duration:2e3});yield l.present(),console.log(\"Loading dismissed!\")})}presentLoadingWithOptions(l){return e.__awaiter(this,void 0,void 0,function*(){const n=yield this.loadingController.create({spinner:null,duration:1e3,message:l,translucent:!0,cssClass:\"custom-class custom-loading\"});return yield n.present()})}}class c{}var g=t(\"pMnS\"),p=t(\"oBZk\"),d=t(\"SVse\"),b=t(\"iInd\"),f=t(\"xgBC\"),m=o.pb({encapsulation:0,styles:[[\".login[_ngcontent-%COMP%]{text-align:-webkit-center;width:100%;height:100%;position:absolute;display:none}.logoImg[_ngcontent-%COMP%]{width:80px;margin-top:10%;float:left;margin-left:15px}h1[_ngcontent-%COMP%]{width:100%;float:left;margin-left:15px;text-align:left;color:#fc8700;font-size:20px}.signInPrompt[_ngcontent-%COMP%]{width:100%;float:left;text-align:left;margin-left:15px;font-size:15px;margin-top:0}.bottomText[_ngcontent-%COMP%]{position:absolute;bottom:0;margin-bottom:20px;font-size:13px;width:100%}.bottomText[_ngcontent-%COMP%]   .fgt[_ngcontent-%COMP%]{float:left;margin-left:15px;cursor:pointer}.bottomText[_ngcontent-%COMP%]   .crt[_ngcontent-%COMP%]{float:right;margin-right:15px;cursor:pointer}.logotext[_ngcontent-%COMP%]{width:200px;margin-top:20px}input[_ngcontent-%COMP%]{margin-top:20px;width:90%;height:43px;border-radius:5px;border:1px solid #ececec;padding-left:15px;outline:0;color:#009688;background:#f2f4f3}ion-button[_ngcontent-%COMP%]{width:90%;margin-top:37px}.registerButton[_ngcontent-%COMP%]{margin-top:20px!important}img.logofont[_ngcontent-%COMP%]{width:122px;margin-top:14px;margin-bottom:16px}\"]],data:{}});function h(l){return o.Lb(0,[(l()(),o.rb(0,0,null,null,4,\"p\",[[\"class\",\"bottomText\"]],null,null,null,null,null)),(l()(),o.rb(1,0,null,null,1,\"span\",[[\"class\",\"fgt\"]],null,null,null,null,null)),(l()(),o.Jb(-1,null,[\"Forgot password\"])),(l()(),o.rb(3,0,null,null,1,\"span\",[[\"class\",\"crt\"]],null,null,null,null,null)),(l()(),o.Jb(-1,null,[\"Create Account\"]))],null,null)}function x(l){return o.Lb(0,[(l()(),o.rb(0,0,null,null,17,\"ion-content\",[[\"id\",\"content\"]],null,null,null,p.P,p.i)),o.qb(1,49152,null,0,i.u,[o.h,o.k,o.x],null,null),(l()(),o.rb(2,0,null,0,15,\"div\",[[\"class\",\"login\"]],null,null,null,null,null)),(l()(),o.rb(3,0,null,null,0,\"img\",[[\"alt\",\"logo\"],[\"class\",\"logoImg\"],[\"src\",\"assets/Logo.jpg\"]],null,null,null,null,null)),(l()(),o.rb(4,0,null,null,0,\"br\",[],null,null,null,null,null)),(l()(),o.rb(5,0,null,null,1,\"h1\",[[\"id\",\"UploadedHeading\"]],null,null,null,null,null)),(l()(),o.Jb(-1,null,[\"Welcome to Uploaded\"])),(l()(),o.rb(7,0,null,null,1,\"p\",[[\"class\",\"signInPrompt\"]],null,null,null,null,null)),(l()(),o.Jb(-1,null,[\"Sign in to continue\"])),(l()(),o.rb(9,0,null,null,0,\"input\",[[\"id\",\"emailInput\"],[\"placeholder\",\"Email\"],[\"required\",\"\"],[\"type\",\"email\"]],null,[[null,\"blur\"],[null,\"focus\"]],function(l,n,t){var o=!0,e=l.component;return\"blur\"===n&&(o=!1!==e.enableBottom()&&o),\"focus\"===n&&(o=!1!==e.disableBottom()&&o),o},null,null)),(l()(),o.rb(10,0,null,null,0,\"br\",[],null,null,null,null,null)),(l()(),o.rb(11,0,null,null,0,\"input\",[[\"id\",\"passwordInput\"],[\"placeholder\",\"Password\"],[\"required\",\"\"],[\"type\",\"password\"]],null,[[null,\"blur\"],[null,\"focus\"]],function(l,n,t){var o=!0,e=l.component;return\"blur\"===n&&(o=!1!==e.enableBottom()&&o),\"focus\"===n&&(o=!1!==e.disableBottom()&&o),o},null,null)),(l()(),o.rb(12,0,null,null,0,\"br\",[],null,null,null,null,null)),(l()(),o.rb(13,0,null,null,2,\"ion-button\",[[\"class\",\"loginButton\"],[\"color\",\"primary\"],[\"expand\",\"block\"],[\"size\",\"default\"]],null,[[null,\"click\"]],function(l,n,t){var o=!0;return\"click\"===n&&(o=!1!==l.component.login()&&o),o},p.J,p.c)),o.qb(14,49152,null,0,i.k,[o.h,o.k,o.x],{color:[0,\"color\"],expand:[1,\"expand\"],size:[2,\"size\"]},null),(l()(),o.Jb(-1,0,[\"Sign in\"])),(l()(),o.gb(16777216,null,null,1,null,h)),o.qb(17,16384,null,0,d.j,[o.M,o.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var t=n.component;l(n,14,0,\"primary\",\"block\",\"default\"),l(n,17,0,1==t.Bottom)},null)}function B(l){return o.Lb(0,[(l()(),o.rb(0,0,null,null,1,\"app-login\",[],null,null,null,x,m)),o.qb(1,114688,null,0,a,[i.Mb,i.Fb,s.a,b.m,r.a,f.b],null,null)],function(l,n){l(n,1,0)},null)}var w=o.nb(\"app-login\",a,B,{},{},[]),P=t(\"s7LF\");t.d(n,\"LoginPageModuleNgFactory\",function(){return C});var C=o.ob(c,[],function(l){return o.Ab([o.Bb(512,o.j,o.Z,[[8,[g.a,w]],[3,o.j],o.v]),o.Bb(4608,d.l,d.k,[o.s,[2,d.u]]),o.Bb(4608,P.g,P.g,[]),o.Bb(4608,i.c,i.c,[o.x,o.g]),o.Bb(4608,i.Gb,i.Gb,[i.c,o.j,o.p]),o.Bb(4608,i.Jb,i.Jb,[i.c,o.j,o.p]),o.Bb(1073742336,d.c,d.c,[]),o.Bb(1073742336,P.f,P.f,[]),o.Bb(1073742336,P.a,P.a,[]),o.Bb(1073742336,i.Db,i.Db,[]),o.Bb(1073742336,b.n,b.n,[[2,b.s],[2,b.m]]),o.Bb(1073742336,c,c,[]),o.Bb(1024,b.k,function(){return[[{path:\"\",component:a}]]},[])])})}}]);","extractedComments":[]}